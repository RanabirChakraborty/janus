---
- ansible.builtin.assert:
    that:
      - downstream_collection_name is defined
    quiet: true

- ansible.builtin.debug:
    msg: "Switch defaults to downstream for playbook {{ path_to_playbook_file }} of collection {{ downstream_collection_name }}."

- ansible.builtin.include_tasks: utils/rename_vars_in_file.yml
  vars:
    upstream_value: "{{ item.replace }}"
    downstream_value: "{{ item.to }}"
    path_to_file: "{{ path_to_playbook_file }}"
  loop:
    - { replace: 'tomcat_install_method: zipfiles', to: '#tomcat_install_method: zipfiles' }
    - { replace: 'tomcat_version: ', to: '#tomcat_version: ' }
    - { replace: '#jboss_web_version: ', to: 'jboss_web_version: ' }
    - { replace: '#tomcat_home: "/opt/jws-', to: 'tomcat_home: "/opt/jws-' }
    - { replace: '#tomcat_install_method: local_zipfiles', to: 'tomcat_install_method: local_zipfiles' }
    - { replace: '#tomcat_install_dir: /opt', to: 'tomcat_install_dir: /opt' }
    - { replace: '#tomcat_zipfile: \"jws-', to: 'tomcat_zipfile: "jws-' }
    - { replace: '#tomcat_zipfile: \"jws-', to: 'tomcat_zipfile: "jws-' }
    - { replace: 'tomcat_service_name: tomcat', to: '#tomcat_service_name: tomcat' }
    - { replace: '#tomcat_service_name: jws', to: 'tomcat_service_name: jws' }
